<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>1A Class Calendar</title>
<style>
  body { font-family: Arial, sans-serif; background-color: #f8f9fa; padding: 20px; }
  h2 { text-align: center; margin-bottom: 15px; }
  table { border-collapse: collapse; width: 100%; text-align: center; table-layout: fixed; }
  th, td { border: 1px solid #1e0bca; padding: 6px; word-wrap: break-word; font-size: 14px; }
  .week-header td { font-weight: bold; background-color: #f0f0f0; font-size: 16px; }
  .day-row td:first-child { font-weight: bold; background: #f9f9f9; }
  .day-row:hover { background: #f3f9ff; }
  .time-row { background-color: #cce5ff; font-weight: bold; position: sticky; top: 0; z-index: 2; }
  .time-row th { box-shadow: 0 2px 3px rgba(0,0,0,0.1); }

  /* Popup styling */
  .popup {
    display: none;
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    border: 2px solid #007BFF;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    padding: 20px;
    z-index: 10;
    width: 300px;
    border-radius: 10px;
  }
  .popup h3 { margin-top: 0; color: #007BFF; }
  .popup button {
    background: #007BFF; color: white; border: none;
    padding: 6px 12px; border-radius: 5px; cursor: pointer;
  }
  .popup button:hover { background: #0056b3; }
  .overlay {
    display: none;
    position: fixed; top:0; left:0; right:0; bottom:0;
    background: rgba(0,0,0,0.3); z-index: 5;
  }

  @media screen and (max-width: 768px) {
    table { display: block; overflow-x: auto; }
    td, th { padding: 8px 10px; font-size: 12px; }
    .week-header td { font-size: 14px; }
  }
</style>
</head>
<body>

<h2>1A Class Calendar upto Final term</h2>

<table>
  <tr class="time-row">
    <th>Day</th>
    <th>Date</th>
    <th>8-9</th>
    <th>9-10</th>
    <th>10-11</th>
    <th>11-12</th>
    <th>12-1</th>
    <th>1-2</th>
    <th>2-3</th>
    <th>3-4</th>
  </tr>

  <!-- Example week -->
  <tr class="week-header"><td colspan="10">Week 12</td></tr>
  <tr class="day-row">
    <td>Sunday</td><td>2025-10-05</td>
    <td></td><td></td>
    <td colspan="2" data-subject="CHEM0531175">CHEM0531175, 510</td>
    <td colspan="2" data-subject="MATH0541111">MATH0541111, 413</td>
    <td></td><td></td>
  </tr>
  <tr class="day-row">
    <td>Monday</td><td>2025-10-06</td>
    <td colspan="7">Holiday, puja</td>
    <td></td>
  </tr>
  <tr class="day-row">
    <td>Tuesday</td><td>2025-10-07</td>
    <td colspan="2" data-subject="GED0232111">GED0232111, 602</td>
    <td colspan="2" data-subject="PHY0533112">PHY0533112, A1(102)</td>
    <td data-subject="PHY0533111">PHY0533111, 603</td>
    <td data-subject="CHEM0531175">CHEM0531175, 202</td>
    <td></td><td></td>
  </tr>
  <tr class="day-row">
    <td>Wednesday</td><td>2025-10-08</td>
    <td colspan="8">Off Day for 1A</td>
  </tr>
  <tr class="day-row">
    <td>Thursday</td><td>2025-10-09</td>
    <td></td>
    <td data-subject="MATH0541111">MATH0541111, 603</td>
    <td colspan="2" data-subject="PHY0533111">PHY0533111, 603</td>
    <td data-subject="GED0232111">GED0232111, 509</td>
    <td data-subject="CSE0613111">CSE0613111, 509</td>
    <td colspan="2" data-subject="PHY0533112">PHY0533112, A2(102)</td>
  </tr>
</table>

<!-- Popup -->
<div class="overlay"></div>
<div class="popup">
  <h3 id="popup-title">Subject</h3>
  <div id="popup-content"></div>
  <button id="popup-close">Close</button>
</div>

<script>
const popup = document.querySelector(".popup");
const overlay = document.querySelector(".overlay");
const popupTitle = document.getElementById("popup-title");
const popupContent = document.getElementById("popup-content");
const closeBtn = document.getElementById("popup-close");

// Embedded JSON data
let classNotesData = {
  "2025-10-05": {
    "CHEM0531175": { "status": "taken", "notes":["Chemical Bonding, lone bond"] },
    "MATH0541111": { "status": "taken", "notes":["Rolles Revise", "Means theorem korayse"] }
  },
  "2025-10-07": {
    "GED0232111": { "status": "taken", "notes":["Argumentative essay(gymming is deathing)"] },
    "PHY0533112": { "status": "taken", "notes":["Experiment 06"] },
    "PHY0533111": { "status": "taken", "notes":["khata dekhayse(MID)"] },
    "CHEM0531175": { "status": "taken", "notes":["Chemical Bonding again, lone bond"] }
  },
  "2025-10-09": {
    "MATH0541111": { "status": "taken", "notes":["Khata dekhayse(MID)"] },
    "PHY0533111": { "status": "taken", "notes":["Kinetic Theory of gases", "Equation of derivation of kinetic theory of gases"] },
    "GED0232111": { "status": "taken", "notes":["Khata dekhayse(MID)"] },
    "CSE0613111": { "status": "taken", "notes":["Khata dekhayse(MID)(CT)"] },
    "PHY0533112": { "status": "missed", "notes":["Hoy nai, ma'am er kaj chilo"] }
  }
};

// Apply green/red coloring and popup
document.querySelectorAll("td[data-subject]").forEach(cell => {
    const subject = cell.dataset.subject;
    const date = cell.parentElement.children[1].textContent.trim();
    const classData = classNotesData[date]?.[subject];

    // Coloring
    if (classData?.status === "taken") {
        cell.style.backgroundColor = "#99ff99"; // green
    } else if (classData?.status === "missed") {
        cell.style.backgroundColor = "#ff9999"; // red
    }

    // Popup
    cell.addEventListener("click", () => {
        const notes = classData?.notes || ["No notes for this class today."];
        popupTitle.textContent = subject;
        popupContent.innerHTML = "<ul><li>" + notes.join("</li><li>") + "</li></ul>";
        popup.style.display = "block";
        overlay.style.display = "block";
    });
});

// Close popup
closeBtn.addEventListener("click", () => {
    popup.style.display = "none";
    overlay.style.display = "none";
});
overlay.addEventListener("click", () => {
    popup.style.display = "none";
    overlay.style.display = "none";
});
</script>

</body>
</html>
